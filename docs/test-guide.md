# Dr.stretch SPOT テスト手順書

## アクセスURL
https://dr-stretch-spot.vercel.app

---

## テストアカウント

| ロール | ログイン方法 | 備考 |
|--------|-------------|------|
| トレーナー（黒川） | OTP: 登録メールアドレス | メール認証コード入力 |
| 店舗マネージャー | ログインページ下部「🏪 Store」ボタン | デモクイックログイン |
| 人事部 | ログインページ下部「👔 HR」ボタン | デモクイックログイン |
| 管理者 | ログインページ下部「⚙️ Admin」ボタン | デモクイックログイン |

---

## テストシナリオ

### シナリオ1: トレーナーの基本フロー（メインテスト）

#### 1-1. ログイン
1. https://dr-stretch-spot.vercel.app/login を開く
2. 登録済みメールアドレスを入力
3. 「認証コードを送信」をタップ
4. メールに届いた8桁コードを入力
5. ホーム画面が表示されることを確認

#### 1-2. シフト検索 → 応募
1. BottomNav「シフト検索」をタップ
2. エリアフィルタで「関西」を選択
3. 表示されたシフトの1つをタップ → 詳細画面
4. 「応募する」をタップ
5. 時給プレビュー（基本時給・各種ボーナス・合計）が表示されることを確認
6. 「応募を確定」をタップ
7. 「応募完了」のトーストが表示されることを確認

#### 1-3. マイシフト確認
1. BottomNav「マイシフト」をタップ
2. 応募したシフトが「承認済み」で表示されることを確認
   - ※ デモ店舗は auto_confirm=true のため自動承認

#### 1-4. 打刻（出勤）
1. BottomNav「打刻」をタップ
2. 当日のシフトが表示される
3. 「QRコード生成」をタップ
4. QRコードが表示される → 店舗端末で読み取り（テスト時は店舗マネージャー画面で手動確認）

#### 1-5. 収入確認
1. BottomNav「収入」をタップ
2. 月ごとの収入・勤務時間が表示される
3. 「◀」「▶」で月切替ができることを確認

#### 1-6. 通知
1. BottomNav「設定」→ ヘッダーのアバター → 該当メニュー
2. 通知一覧が表示される
3. 通知をタップすると関連ページに遷移することを確認

---

### シナリオ2: 店舗マネージャーの基本フロー

#### 2-1. ログイン
1. ログインページ下部「🏪 Store」ボタンをタップ

#### 2-2. シフト作成
1. サイドバー「シフト募集」をタップ
2. フォームに入力:
   - タイトル: 任意
   - 日付: 明日以降
   - 開始/終了時間
   - 募集人数: 1
3. 「作成」をタップ
4. シフト一覧に表示されることを確認

#### 2-3. 応募者管理
1. サイドバー「応募者」をタップ
2. 「審査待ち」「承認済み」「却下・キャンセル」のタブを切り替え
3. 応募がある場合、承認/却下の操作を確認

#### 2-4. 出勤管理（QR読み取り）
1. サイドバー「出勤管理」をタップ
2. 当日の予定が表示される
3. 「QR読み取り」ボタンでトレーナーのQRを読み取り（テスト時はトークン手入力可能）

#### 2-5. 評価
1. サイドバー「評価」をタップ
2. 完了した勤務に対して星評価 + コメントを入力
3. 「送信」をタップ

#### 2-6. 利用実績
1. サイドバー「利用実績」をタップ
2. 月ごとの利用コスト・勤務時間が表示される
3. 月切替ができることを確認

---

### シナリオ3: HR管理フロー（概要確認）

1. 「👔 HR」でログイン
2. ダッシュボードのKPI確認
3. マッチング管理 → 全応募の一覧・ステータス確認
4. 時給テーブル → 勤続年数別の時給設定確認
5. コスト上限 → 月間予算の設定確認

---

### シナリオ4: 管理者フロー（概要確認）

1. 「⚙️ Admin」でログイン
2. トレーナー管理 → 検索・フィルタ確認
3. 店舗管理 → 店舗一覧確認
4. コスト管理 → 月間レポート確認

---

## 確認ポイント

### 全般
- [ ] 各画面がスマートフォンサイズで正しく表示される
- [ ] BottomNavの項目が全てタップ可能
- [ ] ヘッダーのアバター → ドロップダウンでログアウト・アカウント切替が動作する
- [ ] エラー時に日本語のメッセージが表示される

### トレーナー固有
- [ ] シフト検索のフィルタが動作する
- [ ] 応募時に時給プレビューが表示される
- [ ] 緊急シフトは⚡マークで区別できる
- [ ] QRコード生成が動作する
- [ ] 収入の月切替が動作する

### 店舗固有
- [ ] シフト作成フォームが正常に動作する
- [ ] テンプレートからのシフト作成が動作する
- [ ] 応募のタブ切替が動作する
- [ ] QR読み取り（トークン入力）が動作する
- [ ] 評価の星入力が動作する

---

## 既知の制限事項
- メール送信: 無料プランでは 2通/時間 の制限あり（テスト時は間隔を空ける）
- QR打刻: GPS位置情報を使用。テスト時は店舗位置（大阪市中央区）から200m以内で操作が必要
- デモクイックログイン: 店舗/HR/Admin はパスワード認証で即ログイン（テスト専用）

---

## 問題報告
テスト中に問題が見つかった場合、以下を記録してください:
1. どの画面で発生したか（URL）
2. 何をしたか（操作手順）
3. 期待した動作
4. 実際の動作
5. スクリーンショット（可能なら）
